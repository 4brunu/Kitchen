@import "../application.djinni"

config = interface +c 
{
	get_dish(): dish;
	get_module(): module;
}

runnable = interface +c 
{
	run();
}

handler = interface +o +j 
{
    	post(runnable: runnable);
}

service = interface +o +j 
{
	on_create();
	on_start(name: string, runnable: runnable);
}

api = interface +c
{
	get_application(): chef;
	static get_instance(root: string, handler: handler, service: service): api;
}

chef = interface +c 
{
	get_version(): string;
	grab(module: module): dish;
	add_recipe(recipe: recipe);
}

recipe = interface +c 
{
	get_configurations(): list<config>;
}

response = interface +o +j 
{
	on_load(message: string);
}

dish = interface +c 
{
	serve(intent: intention, callback: response);
}




